<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
  <title>SkillSculpt | Analiz Paneli</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; height: 100%; font-family: 'Varela Round', sans-serif; }
    body { background: url('/frontend/images/background.png') no-repeat center center fixed; background-size: cover; display: flex; justify-content: center; align-items: center; color: #fff; }
    .circle { position: absolute; border-radius: 50%; opacity: 0.2; z-index: 0; animation: float 8s ease-in-out infinite; }
    .circle.blue { background-color: #00bcd4; width: 120px; height: 120px; top: 10%; left: 5%; }
    .circle.green { background-color: #8bc34a; width: 180px; height: 180px; bottom: 15%; right: 8%; }
    .circle.purple { background-color: #b39ddb; width: 90px; height: 90px; top: 50%; right: 15%; }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-40px); } }
    .form-container { background-color: rgba(255, 255, 255, 0.9); padding: 40px; border-radius: 20px; width: 90%; max-width: 600px; color: #333; }
    h1 { text-align: center; color: #002244; font-size: 2.6rem; margin-bottom: 25px; }
    .result-box { margin-top: 30px; padding: 20px; border-radius: 15px; background-color: #f0f4f8; color: #333; font-size: 16px; }
    .result-box h3 { margin-top: 0; color: #004080; }
    .suggestion-box { margin-top: 20px; padding: 20px; border-radius: 15px; background-color: #e0f7fa; color: #004d40; }
    .suggestion-box h4 { margin-top: 0; color: #00796b; }
    .back-link { display: block; margin-top: 20px; text-align: center; color: #004080; text-decoration: none; font-weight: bold; }
    .back-link:hover { text-decoration: underline; }
  </style>
</head>
<body>
    <div class="circle blue"></div>
    <div class="circle green"></div>
    <div class="circle purple"></div>
    <div class="form-container">
      <h1>ğŸ“Š Ã–ÄŸrenci Analizi SonuÃ§larÄ±</h1>

      <div class="result-box">
        <h3>ğŸ“ˆ Risk Skoru: <span id="risk-score">...</span></h3>
        <p>Okuma SÃ¼resi: <span id="reading-time">...</span> saniye (Beklenen: <span id="expected-reading-time">...</span> saniye)</p>
        <p>Test HatalarÄ±: <span id="semantic-mistakes">...</span> adet</p>
      </div>

      <div class="suggestion-box">
        <h4>ğŸ§© Ã–neri</h4>
        <p id="suggestion-text">...</p>
      </div>

      <a href="/" class="back-link">ğŸ  Ana Sayfaya DÃ¶n</a>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const results = JSON.parse(sessionStorage.getItem('analysisResult'));
        const suggestionTextEl = document.getElementById('suggestion-text');

        if (results) {
          document.getElementById('risk-score').textContent = `%${results.risk_score}`;
          document.getElementById('reading-time').textContent = results.reading_time;
          document.getElementById('expected-reading-time').textContent = results.expected_reading_time;
          document.getElementById('semantic-mistakes').textContent = results.semantic_mistakes;
          
          
          const score = results.risk_score;
          if (score >= 70) {
            suggestionTextEl.textContent = "YÃ¼ksek risk gÃ¶zlemlendi. Ã–zellikle okuma hÄ±zÄ± ve sÄ±ralama becerilerinde zorluklar mevcut. Sesli okuma egzersizleri ve heceleme oyunlarÄ± gibi daha yoÄŸunlaÅŸtÄ±rÄ±lmÄ±ÅŸ Ã§alÄ±ÅŸmalar Ã¶nerilir. Bir uzmandan destek alÄ±nmasÄ± faydalÄ± olabilir.";
          } else if (score >= 40) {
            suggestionTextEl.textContent = "Orta dÃ¼zeyde risk tespit edildi. Ã–ÄŸrencinin dikkat ve sÄ±ralama becerilerini geliÅŸtirmek iÃ§in gÃ¶rsel destekli materyaller (renkli kartlar, resimli hikayeler) ve harf ayrÄ±ÅŸtÄ±rma egzersizleri faydalÄ± olacaktÄ±r.";
          } else {
            suggestionTextEl.textContent = "DÃ¼ÅŸÃ¼k risk seviyesi. Ã–ÄŸrencinin gÃ¶rev performansÄ± genel olarak beklentiler dahilindedir. Ã–ÄŸrencinin motivasyonunu yÃ¼ksek tutmak ve okuma alÄ±ÅŸkanlÄ±ÄŸÄ±nÄ± teÅŸvik etmek iÃ§in olumlu geri bildirim Ã¶nemlidir.";
          }
          

        } else {
          document.querySelector('.form-container').innerHTML = '<h1>Analiz sonucu bulunamadÄ±.</h1><a href="/task" class="back-link">ğŸ§  GÃ¶revleri Ã‡Ã¶zmeye Geri DÃ¶n</a>';
        }
      });
    </script>
</body>
</html>